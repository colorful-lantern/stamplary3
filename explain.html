<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>マイリハビリ-使い方</title>
    <style>
        body {
            background-color: #c2e2ed; /* 全体の背景色をindex.htmlに合わせる */
            font-size: 18px; /* 基本フォントサイズを大きくする */
        }
        .card-title {
            font-size: 1.2rem !important; /* カードのタイトル文字の大きさを大きくする */
            color: black !important; /* タイトル部分の文字色を黒にする */
            display: flex; /* アイコンとテキストを横並びにする */
            align-items: center; /* 垂直方向の中央揃え */
            justify-content: center; /* 水平方向の中央揃え */
            gap: 10px; /* アイコンとテキストの間隔 */
        }
        .card-text {
            font-size: 1.1rem; /* カード内のテキスト文字の大きさを大きくする */
            text-align: center; /* カード内のテキストを中央揃えにする */
            padding-top: 10px; /* カード本文の上のマージン */
            padding-bottom: 10px; /* カード本文の下のマージン */
            padding-left: 15px; /* カード本文の左のマージン */
            padding-right: 15px; /* カード本文の右のマージン */
        }
        .card {
            width: 24rem !important; /* カードの幅を広くする */
            max-width: 90%; /* レスポンシブ対応のため最大幅を設定 */
            border-radius: 16px !important; /* カードの角丸を大きくする */
        }
        /* アコーディオンのボタンをタイトル表示に合わせるためのスタイル */
        .accordion-button-custom {
            width: 100%;
            text-align: left;
            background-color: transparent;
            border: none;
            padding: 0; /* デフォルトのパディングを削除 */
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        .accordion-button-custom:focus {
            box-shadow: none; /* フォーカス時の影を削除 */
        }
        .accordion-button-custom .card-title {
            margin-bottom: 0; /* カードタイトル内のマージンを削除 */
            width: 100%; /* タイトルが占める幅を最大にする */
            /* text-align: center; */ /* flexboxでjustify-content: centerを使っているので不要 */
            padding-top: 10px; /* カードタイトルに上部のパディングを追加 */
            padding-bottom: 10px; /* カードタイトルに下部のパディングを追加 */
        }
        .accordion-button-custom i {
            transition: transform 0.3s ease-in-out; /* アイコンの回転アニメーション */
        }
        .accordion-button-custom.collapsed i {
            transform: rotate(0deg); /* 閉じているときは下向き */
        }
        /* アコーディオンが開いている場合でもアイコンを回転させない */
        .accordion-button-custom:not(.collapsed) i {
            transform: rotate(0deg); /* 開いているときも回転させない */
        }
        .card-body.accordion-header {
            padding-bottom: 0; /* ヘッダー部分のパディングを調整 */
            text-align: center; /* カードボディ全体を中央揃えにする */
            padding-top: 0; /* Bootstrapのデフォルトパディングをリセット */
            padding-left: 1rem; /* 左右のパディングを追加 */
            padding-right: 1rem; /* 左右のパディングを追加 */
        }
        /* アラート内のテキストも中央揃えにする */
        .alert .row-cols-11 {
            text-align: center;
            display: flex; /* flexboxを使って中央揃えを維持 */
            justify-content: center; /* 水平方向の中央揃え */
            align-items: center; /* 垂直方向の中央揃え */
        }
        .alert .row-cols-1 {
            text-align: center;
        }
        /* ネストされたカードのスタイル */
        .card .card-body .card {
            margin-top: 10px; /* 親カード内の子カードの上マージン */
            margin-bottom: 10px; /* 親カード内の子カードの下マージン */
            border-radius: 12px !important; /* ネストされたカードの角丸も少し大きくする */
            margin-left: auto; /* ネストされたカードを中央揃えにする */
            margin-right: auto; /* ネストされたカードを中央揃えにする */
        }
        .app-feature-item {
            font-size: 1.1rem;
            text-align: center;
            padding: 5px 0;
            margin-bottom: 0;
        }
        .app-feature-item strong {
            font-size: 1.2rem;
            display: block; /* 画面名と説明を縦に並べる */
            margin-bottom: 5px; /* 画面名と説明の間隔 */
        }
    </style>
  </head>
  <body>
    <!--ナビゲーションバー-->
    <nav class="navbar navbar-expand-lg" style="background-color: #c2e2ed;">
      <div class="container-fluid d-flex m-auto">
        <p class="navbar-brandfw-bold fw-bold fs-3 text-black ms-1 my-1 me-0" id="title">マイリハビリ</p>
      </div>
    </nav>

    <div id="explain" class="mt-4 mb-2 d-flex justify-content-between align-items-center">
      <h3 class="m-auto text-center">スタンプの獲得方法</h3>
    </div>

    <!--カードコンテナ-->
    <div id="explainCards" class="m-2 d-flex flex-wrap justify-content-center">
      <!--1つ目のカード-->
      <div class="card m-2">
        <div class="card-body accordion-header">
          <button class="accordion-button-custom" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCard1" aria-expanded="false" aria-controls="collapseCard1">
            <h5 class="card-title">1. リハビリに取り組む</h5>
            <i class="bi bi-chevron-down fs-4 text-black"></i>
          </button>
          <div id="collapseCard1" class="collapse"> <!-- デフォルトで非表示にする -->
            <p class="card-text">リハビリに取り組んでください。</p>
          </div>
        </div>
      </div>

      <!--2つ目のカード-->
      <div class="card m-2">
        <div class="card-body accordion-header">
          <button class="accordion-button-custom" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCard2" aria-expanded="false" aria-controls="collapseCard2">
            <h5 class="card-title">2. QRコードを読み取る</h5>
            <i class="bi bi-chevron-down fs-4 text-black"></i>
          </button>
          <div id="collapseCard2" class="collapse">
            <p class="card-text">リハビリが終わったら、<br>QRコードを読み取ってください。</p>
            <div class="alert alert-danger d-flex align-content-center m-1 p-1" role="alert">
              <div class="row-cols-2 align-content-center m-1 text-center">
                <i class="bi bi-exclamation-triangle-fill fs-3"></i>
              </div>
              <div class="row-cols-10 d-flex align-items-center m-auto text-center pe-2">
                QRコードを読み取ったら、<br>毎回同じブラウザで開いてください。
              </div>
            </div>
            <div class="alert alert-warning d-flex align-content-center m-1 p-1" role="alert">
              <div class="row-cols-2 align-content-center m-1 text-center">
                <i class="bi bi-lightbulb fs-3"></i>
              </div>
              <div class="row-cols-10 d-flex align-items-center m-auto text-center pe-2">
                間違えてスタンプを獲得したときは、スタッフにお知らせください。<br>
                きょうの記録についてはスタンプを取り消すことができます。
              </div>
            </div>
          </div>
        </div>
      </div>

      <!--3つ目のカード-->
      <div class="card m-2">
        <div class="card-body accordion-header">
          <button class="accordion-button-custom" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCard3" aria-expanded="false" aria-controls="collapseCard3">
            <h5 class="card-title">3. スタンプを獲得する</h5>
            <i class="bi bi-chevron-down fs-4 text-black"></i>
          </button>
          <div id="collapseCard3" class="collapse">
            <p class="card-text">QRコードを読み取ると、<br>自動でホーム画面が開き、<br>スタンプが獲得できます。</p>
          </div>
        </div>
      </div>
    </div>

    <!-- 新しいセクション: アプリでできること -->
    <div id="appFeatures" class="mt-4 mb-2 d-flex justify-content-between align-items-center">
      <h3 class="m-auto text-center">アプリでできること</h3>
    </div>

    <div id="appFeaturesCards" class="m-2 d-flex flex-wrap justify-content-center">
      <!-- きょう -->
      <div class="card m-2">
        <div class="card-body accordion-header">
          <button class="accordion-button-custom" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAppFeature1" aria-expanded="false" aria-controls="collapseAppFeature1">
            <h5 class="card-title"><i class="bi bi-house-fill fs-4"></i> きょう</h5>
            <i class="bi bi-chevron-down fs-4 text-black"></i>
          </button>
          <div id="collapseAppFeature1" class="collapse">
            <p class="card-text">今日取り組んだリハビリの進捗を、<br>ひと目で確認できます。</p>
          </div>
        </div>
      </div>

      <!-- きろく -->
      <div class="card m-2">
        <div class="card-body accordion-header">
          <button class="accordion-button-custom" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAppFeature2" aria-expanded="false" aria-controls="collapseAppFeature2">
            <h5 class="card-title"><i class="bi bi-calendar2-week fs-4"></i> きろく</h5>
            <i class="bi bi-chevron-down fs-4 text-black"></i>
          </button>
          <div id="collapseAppFeature2" class="collapse">
            <p class="card-text">カレンダー形式で、これまでのリハビリの<br>取り組みをふりかえることができます。</p>
          </div>
        </div>
      </div>

      <!-- 使い方 -->
      <div class="card m-2">
        <div class="card-body accordion-header">
          <button class="accordion-button-custom" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAppFeature3" aria-expanded="false" aria-controls="collapseAppFeature3">
            <h5 class="card-title"><i class="bi bi-question-circle fs-4"></i> 使い方</h5>
            <i class="bi bi-chevron-down fs-4 text-black"></i>
          </button>
          <div id="collapseAppFeature3" class="collapse">
            <p class="card-text">アプリの基本的な使い方を<br>チェックできます。</p>
          </div>
        </div>
      </div>

      <!-- 設定 -->
      <div class="card m-2">
        <div class="card-body accordion-header">
          <button class="accordion-button-custom" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAppFeature4" aria-expanded="false" aria-controls="collapseAppFeature4">
            <h6 class="card-title"><i class="bi bi-gear-fill fs-4"></i> 設定</h6>
            <i class="bi bi-chevron-down fs-4 text-black"></i>
          </button>
          <div id="collapseAppFeature4" class="collapse">
            <p class="card-text">あなたが取り組むリハビリを<br>選ぶことができます。</p>
            <div class="alert alert-warning d-flex align-content-center m-1 p-1" role="alert">
              <div class="row-cols-2 align-content-center m-1 text-center">
                <i class="bi bi-lightbulb fs-3"></i>
              </div>
              <div class="row-cols-10 m-auto text-center">
                <b>はじめて</b>このシステムを使用するときは、<a href="setting.html">設定画面</a>からリハビリの種類を選択してください。
              </div>
            </div>
            <div class="alert alert-warning d-flex align-content-center m-1 p-1" role="alert">
              <div class="row-cols-2 align-content-center m-1 text-center">
                <i class="bi bi-lightbulb fs-3"></i>
              </div>
              <div class="row-cols-10 d-flex align-items-center m-auto text-center">
                何回でも<br>取り組むリハビリの種類を<br>変更することができます。
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!--スクロールのためのスペース-->
    <div style="height: 100px;"></div>

    <!--フッター-->
    <div id="footer" class="container-fluid">
      <div class="fixed-bottom bg-white m-auto"
           style="border-radius: 26px; left: 0; right: 0; width: 95%; max-width: 600px; bottom: 16px; box-shadow: 0 4px 16px rgba(0,0,0,0.18);">
        <div class="row m-0 p-0" style="border-radius: 32px;">
          <div class="col-3">
            <div id="homebtn" class="text-center m-auto">
              <a href="index.html" class="btn btn-link text-black text-decoration-none text-nowrap" style="font-size: 1.2rem;">
                <i class="bi bi-house-fill fw-bold" style="font-size: 2rem;"></i><br>
              きょう</a>
            </div>
          </div>
          <div class="col-3">
            <div id="calbtn" class="text-center m-auto">
              <a href="calender.html" class="btn btn-link text-black text-decoration-none text-nowrap" style="font-size: 1.2rem;">
                <i class="bi bi-calendar2-week fw-bold" style="font-size: 2rem;"></i><br>
              きろく</a>
            </div>
          </div>
          <div class="col-3">
            <div id="explainbtn" class="text-center m-auto">
              <a href="explain.html" class="btn btn-link text-primary text-decoration-none text-nowrap" style="font-size: 1.2rem;">
                <i class="bi bi-question-circle fw-bold" style="font-size: 2rem;"></i><br>
              使い方</a>
            </div>
          </div>
          <div class="col-3">
            <div id="settingbtn" class="text-center m-auto">
              <a href="setting.html" class="btn btn-link text-black text-decoration-none text-nowrap" style="font-size: 1.2rem;">
              <i class="bi bi-gear-fill fw-bold" style="font-size: 2rem;"></i><br>
              設定</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div style="height: 200px;"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // カスタムアコーディオンボタンをすべて取得
            var accordionButtons = document.querySelectorAll('.accordion-button-custom');

            accordionButtons.forEach(function(button) {
                var targetId = button.getAttribute('data-bs-target');
                var collapseElement = document.querySelector(targetId);
                var icon = button.querySelector('i');

                // 初期状態に応じてアイコンの向きを設定
                if (collapseElement.classList.contains('show')) {
                    button.classList.remove('collapsed');
                    icon.style.transform = 'rotate(0deg)'; // 開いているときも回転させない
                } else {
                    button.classList.add('collapsed');
                    icon.style.transform = 'rotate(0deg)';
                }

                // Bootstrapのcollapseイベントにリスナーを追加
                collapseElement.addEventListener('show.bs.collapse', function () {
                    icon.style.transform = 'rotate(0deg)'; // 開いたときに回転させない
                    button.classList.remove('collapsed');
                });

                collapseElement.addEventListener('hide.bs.collapse', function () {
                    icon.style.transform = 'rotate(0deg)'; // 閉じたときに回転させない
                    button.classList.add('collapsed');
                });
            });
        });
    </script>
  </body>
</html>
